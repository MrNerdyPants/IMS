<div class="modal-header text-center">
    <h3 class="modal-title" id="exampleModalLabel">Add/ Edit City</h3>
    <button type="button" class="btn-close shadow-none" data-bs-dismiss="modal" aria-label="Close"
        (click)="activeModal.dismiss('Cross click')"></button>
</div>
<form [formGroup]="addForm" (ngSubmit)="onSubmit()">
    <div class="modal-body employeeDocImg">
        <div class="row">
            <div class="col-12 mb-2">
                <div class="form-group">
                    <label class="require">City Name</label>
                    <input formControlName='title' type="text" class="form-control"
                        [ngClass]="{'is-invalid': addForm.get('title')?.invalid && addForm.get('title')?.touched}"
                        required>
                    <div class="invalid-feedback">City is Required!</div>
                </div>
            </div>
            <div class="col-12 mb-2">
                <div class="form-group">
                    <label for="countryId" class="required">Country</label>
                    <ng-select class="custom" formControlName="countryId" [items]="countries?.response"
                        [ngClass]="{'is-invalid': selectedCountry === '' && addForm.get('countryId').errors}" [virtualScroll]="true"
                        (change)="getProvinceByCountryId()"
                        [style]="addForm.get('countryId')?.invalid && (addForm.get('countryId')?.dirty || addForm.get('countryId')?.touched)? 'border-color: #d9534f':''"
                        bindLabel="name" bindValue="id" placeholder="Select country" [(ngModel)]="selectedCountry">
                    </ng-select>
                    <div class="invalid-feedback">
                        Please select a valid country.
                    </div>
                </div>
            </div>
            <div class="col-12 mb-2">
                <div class="form-group">
                    <label for="stateId" class="required">Province</label>
                    <ng-select class="custom" formControlName="stateId" [items]="states?.response"
                        [virtualScroll]="true" [ngClass]="{'is-invalid': selectedState === '' && addForm.get('stateId').errors}"
                        [style]="addForm.get('stateId')?.invalid &&(addForm.get('stateId')?.dirty || addForm.get('stateId')?.touched)? 'border-color: #d9534f':''"
                        bindLabel="name" bindValue="id" placeholder="Select Province" [(ngModel)]="selectedState">
                    </ng-select>
                    <div class="invalid-feedback">
                        Please select a valid province.
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-dark btn-label waves-effect waves-light rounded-pill"><i
                class="ri-check-double-line label-icon align-middle rounded-pill fs-16 me-2"></i> Save Changes</button>
    </div>
</form>

<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>