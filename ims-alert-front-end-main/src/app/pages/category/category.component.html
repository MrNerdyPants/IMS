<app-breadcrumbs [title]="breadcrumbItemTitle" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>


<div class="row">
    <div class="col-xxl-12">
        <!-- Nav tabs -->
        <ul ngbNav #Colored="ngbNav" [activeId]="1" class="nav nav-pills nav-custom nav-custom-dark mb-3">
            <li [ngbNavItem]="1">
                <a ngbNavLink>
                    Category
                </a>
                <ng-template ngbNavContent>
                    <div class="filter-section mb-4">
                        <div class="row">
                            <div class="col-6 d-flex justify-content-start">
                                <h3 class="modal-title">{{breadcrumbItemTitle}}</h3>
                            </div>
                            <div class="col-6 d-flex justify-content-end" *ngIf="adminUser === '1'">
                                <button type="button" class="btn btn-dark btn-label waves-effect waves-light"
                                    (click)="openAddModal()">
                                    <i class="ri-add-fill label-icon align-middle fs-16 me-2"></i> Add Category
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="items-section">
                        <div class="main-body-content">
                            <div class="table-responsive-sm">
                                <table id="sailorTable" width="100%"
                                    class="table table-striped table-hover align-middle"
                                    style="border: 1px solid #dfe6e9;">
                                    <thead class="light-background" style="border-bottom: 0px;">
                                        <tr>
                                            <th class="text-center" width="5%">Sr.No.</th>
                                            <th class="text-left" width="55%">Category</th>
                                            <th class="text-left" width="25%">Status</th>
                                            <th class="text-center" colspan="2">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="!getResult?.response || getResult?.response.legth === 0">
                                            <td class="text-left" colspan="3">
                                                <h6 class="modal-title">No data found.</h6>
                                            </td>
                                        </tr>
                                        <tr *ngFor="let data of getResult?.response; index as i">
                                            <td class="text-center">{{i + 1}}</td>
                                            <td>{{data?.name}}</td>
                                            <td>{{data?.activeInd === 'Y' ? 'Active' : 'Inactive'}}</td>
                                            <td class="text-center">
                                                <div class="btn-group gap-3" *ngIf="adminUser === '1'">
                                                    <button type="button"
                                                        class="btn btn-sm btn-dark btn-icon waves-effect" title="Edit"
                                                        (click)="openEdit(data?.id, data?.activeInd, data?.name)">
                                                        <i class="ri-edit-2-fill"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-sm btn-danger btn-icon waves-effect waves-light"
                                                        title="Delete" (click)="openDelete(data?.id)">
                                                        <i class="ri-delete-bin-5-line"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <a ngbNavLink>
                    Sub Category
                </a>
                <ng-template ngbNavContent>
                    <div class="filter-section mb-4">
                        <div class="row">
                            <div class="col-6 d-flex justify-content-start">
                                <h3 class="modal-title">Sub {{breadcrumbItemTitle}}</h3>
                            </div>
                            <div class="col-6 d-flex justify-content-end">
                                <button type="button" class="btn btn-dark btn-label waves-effect waves-light"
                                    (click)="openAddSubModal()">
                                    <i class="ri-add-fill label-icon align-middle fs-16 me-2"></i> Add Sub Category
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="items-section">
                        <div class="main-body-content">
                            <div class="table-responsive-sm">
                                <table id="sailorTable" width="100%"
                                    class="table table-striped table-hover align-middle"
                                    style="border: 1px solid #dfe6e9;">
                                    <thead class="light-background" style="border-bottom: 0px;">
                                        <tr>
                                            <th class="text-center" width="5%">Sr.No.</th>
                                            <th class="text-left" width="30%">Sub Category</th>
                                            <th class="text-left" width="30%">Category</th>
                                            <th class="text-left" width="15%">Status</th>
                                            <th class="text-center" colspan="2">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="!getSubResult?.response || getSubResult?.response.legth === 0">
                                            <td class="text-left" colspan="3">
                                                <h6 class="modal-title">No data found.</h6>
                                            </td>
                                        </tr>
                                        <tr *ngFor="let data of getSubResult?.response; index as i">
                                            <td class="text-center">{{i + 1}}</td>
                                            <td>{{data?.name}}</td>
                                            <td>{{data?.parent?.name}}</td>
                                            <td>{{data?.activeInd === 'Y' ? 'Active' : 'Inactive'}}</td>
                                            <td class="text-center">
                                                <div class="btn-group gap-3">
                                                    <button type="button"
                                                        class="btn btn-sm btn-dark btn-icon waves-effect" title="Edit"
                                                        (click)="openSubEdit(data?.id, data?.parent?.id, data?.activeInd, data?.types, data?.name)">
                                                        <i class="ri-edit-2-fill"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-sm btn-danger btn-icon waves-effect waves-light"
                                                        title="Delete" (click)="openDelete(data?.id)">
                                                        <i class="ri-delete-bin-5-line"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </li>
            <li [ngbNavItem]="3">
                <a ngbNavLink>
                    Product Types
                </a>
                <ng-template ngbNavContent>
                    <div class="filter-section mb-4">
                        <div class="row">
                            <div class="col-6 d-flex justify-content-start">
                                <h3 class="modal-title">Product Type</h3>
                            </div>
                            <div class="col-6 d-flex justify-content-end">
                                <button type="button" class="btn btn-dark btn-label waves-effect waves-light"
                                    (click)="openAddProductType()">
                                    <i class="ri-add-fill label-icon align-middle fs-16 me-2"></i> Add Product Type
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="items-section">
                        <div class="main-body-content">
                            <div class="table-responsive-sm">
                                <table id="sailorTable" width="100%"
                                    class="table table-striped table-hover align-middle"
                                    style="border: 1px solid #dfe6e9;">
                                    <thead class="light-background" style="border-bottom: 0px;">
                                        <tr>
                                            <th class="text-center" width="5%">Sr.No.</th>
                                            <th class="text-left" width="35%">Product Type</th>
                                            <th class="text-left" width="20%">Nature</th>
                                            <th class="text-left" width="20%">Category</th>
                                            <th class="text-center" colspan="2">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="!getSubResult?.response || getSubResult?.response.legth === 0">
                                            <td class="text-left" colspan="7">
                                                <h6 class="modal-title">No data found.</h6>
                                            </td>
                                        </tr>
                                        <ng-container *ngFor="let subCate of getSubResult?.response; index as j">
                                            <tr *ngIf="subCate?.types?.length > 0">
                                                <th class="text-left" width="35%" colspan="2">
                                                    &nbsp;&nbsp;&nbsp; {{subCate?.name}}
                                                </th>
                                                <th colspan="3"></th>
                                            </tr>
                                            <tr *ngFor="let data of subCate?.types; index as i">
                                                <td class="text-center">{{( i + 1)}}</td>
                                                <td>{{data?.title}}</td>
                                                <td>{{data?.typeNature}}</td>
                                                <td>{{subCate?.parent?.name}}</td>
                                                <td class="text-center">
                                                    <div class="btn-group gap-3">
                                                        <button type="button"
                                                            class="btn btn-sm btn-dark btn-icon waves-effect"
                                                            title="Edit" (click)="editProductType(data, subCate)">
                                                            <i class="ri-edit-2-fill"></i>
                                                        </button>
                                                        <button type="button"
                                                            class="btn btn-sm btn-danger btn-icon waves-effect waves-light"
                                                            title="Delete"
                                                            (click)="openDeleteProductType(data?.id, subCate?.id)">
                                                            <i class="ri-delete-bin-5-line"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </li>
        </ul>
        <div class="tab-content text-muted">
            <div [ngbNavOutlet]="Colored"></div>
        </div>
    </div><!--end col-->
</div><!--end row-->
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>